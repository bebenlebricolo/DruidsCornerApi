# GoogleCloudAuthentication
This is a small side project for trying out different ways to achieve service account and end user authentication flows using python code.
This code was taken out from the [Coding-tests/python3/GoogleCloudAuthentication](https://github.com/bebenlebricolo/Coding-tests/tree/master/python3/GoogleCloudAuthentication) side project.

It's essentially meant to generate a jwt token for development purposes that can be used while developping the DruidsCornerApi.

# Config files setup
In order to properly work, this project needs various config files under the [Config](Config) folder :
* client_secrets.json -> Contains the client secrets (client needs to be of type Web Client and need to have a redirect uri attached for this procedure to work)
* service.json -> Contains the secrets and details generated by GCP while registering a new service account
* test_service.json -> Cloud Run service endpoint name, in a small json file (for ease of parsing ...)
* firebase.json -> Firebase client configuration, retrieved when connecting Firebase service with your project under GCP

Template files were abstracted into the [ConfigTemplates](ConfigTemplates) folder, so that you can compare the formats later on.

# Requirements
You need to have a **recent Python3 installed** for this to work (***Python >= 3.10***, because I'm using type hints in the codebase for better readability)
This little project needs several tools in order to properly work, you can install the required dependencies using `pip` :
```Bash
# Virtual environment setup
python -m venv .venv
source .venv/bin/activate

# Dependencies retrieval
pip install -r requirements.txt
# Or alternatively
python -m pip install -r requirements.txt
```

# Running the script

```bash
python gcloudauth.py
```